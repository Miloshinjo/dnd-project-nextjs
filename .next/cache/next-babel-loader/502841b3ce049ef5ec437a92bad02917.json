{"ast":null,"code":"import { shield, not, allow } from 'graphql-shield';\nimport rules from './rules';\nconst permissions = shield({\n  Query: {\n    me: rules.isAuthenticatedUser,\n    characters: rules.isAuthenticatedUser,\n    '*': allow\n  },\n  Mutation: {\n    login: not(rules.isAuthenticatedUser),\n    signup: not(rules.isAuthenticatedUser),\n    createCharacter: rules.isAuthenticatedUser,\n    updateCharacter: rules.isCharacterOwner,\n    deleteCharacter: rules.isCharacterOwner,\n    learnSpell: rules.isCharacterOwner,\n    forgetSpell: rules.isCharacterOwner\n  }\n});\nexport { permissions as default };","map":{"version":3,"sources":["/Users/milosdzeletovic/projects/me/dnd-armory/dnd-armory-next/server/permissions/index.ts"],"names":["shield","not","allow","rules","permissions","Query","me","isAuthenticatedUser","characters","Mutation","login","signup","createCharacter","updateCharacter","isCharacterOwner","deleteCharacter","learnSpell","forgetSpell","default"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,GAAjB,EAAsBC,KAAtB,QAAmC,gBAAnC;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,MAAMC,WAAW,GAAGJ,MAAM,CAAC;AACzBK,EAAAA,KAAK,EAAE;AACLC,IAAAA,EAAE,EAAEH,KAAK,CAACI,mBADL;AAELC,IAAAA,UAAU,EAAEL,KAAK,CAACI,mBAFb;AAGL,SAAKL;AAHA,GADkB;AAMzBO,EAAAA,QAAQ,EAAE;AACRC,IAAAA,KAAK,EAAET,GAAG,CAACE,KAAK,CAACI,mBAAP,CADF;AAERI,IAAAA,MAAM,EAAEV,GAAG,CAACE,KAAK,CAACI,mBAAP,CAFH;AAGRK,IAAAA,eAAe,EAAET,KAAK,CAACI,mBAHf;AAIRM,IAAAA,eAAe,EAAEV,KAAK,CAACW,gBAJf;AAKRC,IAAAA,eAAe,EAAEZ,KAAK,CAACW,gBALf;AAMRE,IAAAA,UAAU,EAAEb,KAAK,CAACW,gBANV;AAORG,IAAAA,WAAW,EAAEd,KAAK,CAACW;AAPX;AANe,CAAD,CAA1B;AAiBA,SAASV,WAAW,IAAIc,OAAxB","sourcesContent":["import { shield, not, allow } from 'graphql-shield'\nimport rules from './rules'\n\nconst permissions = shield({\n  Query: {\n    me: rules.isAuthenticatedUser,\n    characters: rules.isAuthenticatedUser,\n    '*': allow,\n  },\n  Mutation: {\n    login: not(rules.isAuthenticatedUser),\n    signup: not(rules.isAuthenticatedUser),\n    createCharacter: rules.isAuthenticatedUser,\n    updateCharacter: rules.isCharacterOwner,\n    deleteCharacter: rules.isCharacterOwner,\n    learnSpell: rules.isCharacterOwner,\n    forgetSpell: rules.isCharacterOwner,\n  },\n})\n\nexport { permissions as default }\n"]},"metadata":{},"sourceType":"module"}