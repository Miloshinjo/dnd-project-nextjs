{"ast":null,"code":"const abilityScoreM = abilityScore => Math.floor((abilityScore - 10) / 2);\n\nconst proficiencyBonus = level => Math.ceil(1 + level * 0.25);\n\nconst initiative = dexterity => abilityScoreM(dexterity);\n\nconst savingThrow = (klass, ability, abilityScoreModifier, proficiencyBonus, level) => {\n  const savingThrows = {\n    strength: ['Barbarian', 'Fighter', 'Monk', 'Ranger'],\n    dexterity: ['Bard', 'Monk', 'Ranger', 'Rogue'],\n    constitution: ['Barbarian', 'Fighter', 'Sorcerer'],\n    intelligence: ['Wizard', 'Druid', 'Rogue'],\n    wisdom: ['Wizard', 'Cleric', 'Druid', 'Paladin', 'Warlock'],\n    charisma: ['Bard', 'Cleric', 'Paladin', 'Sorcerer', 'Warlock']\n  }; // Monks get Diamond Soul on level 14 (proficient in all saves)\n\n  if (klass === 'Monk' && level >= 14) {\n    return abilityScoreModifier + proficiencyBonus;\n  } // Rogues get proficient saving throws on level 15 in WIS\n\n\n  if (klass === 'Rogue' && level >= 15 && ability === 'wisdom') {\n    return abilityScoreModifier + proficiencyBonus;\n  }\n\n  if (savingThrows[ability].includes(klass)) {\n    return abilityScoreModifier + proficiencyBonus;\n  }\n\n  return abilityScoreModifier;\n};\n\nconst passivePerception = (wisdomModifier, proficiencyBonus, isProficient) => isProficient ? 10 + wisdomModifier + proficiencyBonus : 10 + wisdomModifier;\n\nconst passiveInvestigation = (intellligenceModifier, proficiencyBonus, isProficient) => isProficient ? 10 + intellligenceModifier + proficiencyBonus : 10 + intellligenceModifier;\n\nconst passiveInsight = (wisdomModifier, proficiencyBonus, isProficient) => isProficient ? 10 + wisdomModifier + proficiencyBonus : 10 + wisdomModifier;\n\nconst hitBonus = (proficiencyBonus, abilityModifier) => proficiencyBonus + abilityModifier;\n\nconst sneakAttack = level => {\n  if (level === 1) return 1;\n  return Math.ceil(level / 2);\n};\n\nconst calculateSkill = (isProficient, abilityScoreModifier, proficiencyBonus) => {\n  if (isProficient) {\n    return abilityScoreModifier + proficiencyBonus;\n  }\n\n  return abilityScoreModifier;\n};\n\nconst spellHit = (abilityScoreModifier, proficiencyBonus) => {\n  return abilityScoreModifier + proficiencyBonus;\n};\n\nconst spellSaveDc = (abilityScoreModifier, proficiencyBonus) => {\n  return 8 + abilityScoreModifier + proficiencyBonus;\n};\n\nconst subclassTitle = {\n  Barbarian: 'Primal Path',\n  Bard: 'Bard College',\n  Druid: 'Druid Circle',\n  Cleric: 'Divine Domain',\n  Monk: 'Monastic Tradition',\n  Paladin: 'Sacred Oath',\n  Fighter: 'Martial Archetype',\n  Rogue: 'Roguish Archetype',\n  Ranger: 'Ranger Conclave',\n  Sorcerer: 'Sorcerous Origin',\n  Warlock: 'Otherworldly Patron',\n  Wizard: 'Arcane Tradition'\n};\nexport { abilityScoreM, calculateSkill, hitBonus, initiative, passiveInsight, passiveInvestigation, passivePerception, proficiencyBonus, savingThrow, sneakAttack, spellHit, spellSaveDc, subclassTitle };","map":{"version":3,"sources":["/Users/milosdzeletovic/projects/me/dnd-armory/dnd-armory-next/utils/character.ts"],"names":["abilityScoreM","abilityScore","Math","floor","proficiencyBonus","level","ceil","initiative","dexterity","savingThrow","klass","ability","abilityScoreModifier","savingThrows","strength","constitution","intelligence","wisdom","charisma","includes","passivePerception","wisdomModifier","isProficient","passiveInvestigation","intellligenceModifier","passiveInsight","hitBonus","abilityModifier","sneakAttack","calculateSkill","spellHit","spellSaveDc","subclassTitle","Barbarian","Bard","Druid","Cleric","Monk","Paladin","Fighter","Rogue","Ranger","Sorcerer","Warlock","Wizard"],"mappings":"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","sourcesContent":["const abilityScoreM = (abilityScore: number): number =>\n  Math.floor((abilityScore - 10) / 2)\n\nconst proficiencyBonus = (level: number): number => Math.ceil(1 + level * 0.25)\n\nconst initiative = (dexterity: number): number => abilityScoreM(dexterity)\n\nconst savingThrow = (\n  klass: string,\n  ability: string,\n  abilityScoreModifier: number,\n  proficiencyBonus: number,\n  level: number,\n): number => {\n  const savingThrows = {\n    strength: ['Barbarian', 'Fighter', 'Monk', 'Ranger'],\n    dexterity: ['Bard', 'Monk', 'Ranger', 'Rogue'],\n    constitution: ['Barbarian', 'Fighter', 'Sorcerer'],\n    intelligence: ['Wizard', 'Druid', 'Rogue'],\n    wisdom: ['Wizard', 'Cleric', 'Druid', 'Paladin', 'Warlock'],\n    charisma: ['Bard', 'Cleric', 'Paladin', 'Sorcerer', 'Warlock'],\n  }\n\n  // Monks get Diamond Soul on level 14 (proficient in all saves)\n  if (klass === 'Monk' && level >= 14) {\n    return abilityScoreModifier + proficiencyBonus\n  }\n\n  // Rogues get proficient saving throws on level 15 in WIS\n  if (klass === 'Rogue' && level >= 15 && ability === 'wisdom') {\n    return abilityScoreModifier + proficiencyBonus\n  }\n\n  if (savingThrows[ability].includes(klass)) {\n    return abilityScoreModifier + proficiencyBonus\n  }\n\n  return abilityScoreModifier\n}\n\nconst passivePerception = (\n  wisdomModifier: number,\n  proficiencyBonus: number,\n  isProficient: boolean,\n): number =>\n  isProficient ? 10 + wisdomModifier + proficiencyBonus : 10 + wisdomModifier\n\nconst passiveInvestigation = (\n  intellligenceModifier: number,\n  proficiencyBonus: number,\n  isProficient: boolean,\n): number =>\n  isProficient\n    ? 10 + intellligenceModifier + proficiencyBonus\n    : 10 + intellligenceModifier\n\nconst passiveInsight = (\n  wisdomModifier: number,\n  proficiencyBonus: number,\n  isProficient: boolean,\n): number =>\n  isProficient ? 10 + wisdomModifier + proficiencyBonus : 10 + wisdomModifier\n\nconst hitBonus = (proficiencyBonus: number, abilityModifier: number): number =>\n  proficiencyBonus + abilityModifier\n\nconst sneakAttack = (level: number) => {\n  if (level === 1) return 1\n  return Math.ceil(level / 2)\n}\n\nconst calculateSkill = (\n  isProficient: boolean,\n  abilityScoreModifier: number,\n  proficiencyBonus: number,\n): number => {\n  if (isProficient) {\n    return abilityScoreModifier + proficiencyBonus\n  }\n\n  return abilityScoreModifier\n}\n\nconst spellHit = (\n  abilityScoreModifier: number,\n  proficiencyBonus: number,\n): number => {\n  return abilityScoreModifier + proficiencyBonus\n}\n\nconst spellSaveDc = (\n  abilityScoreModifier: number,\n  proficiencyBonus: number,\n): number => {\n  return 8 + abilityScoreModifier + proficiencyBonus\n}\n\nconst subclassTitle = {\n  Barbarian: 'Primal Path',\n  Bard: 'Bard College',\n  Druid: 'Druid Circle',\n  Cleric: 'Divine Domain',\n  Monk: 'Monastic Tradition',\n  Paladin: 'Sacred Oath',\n  Fighter: 'Martial Archetype',\n  Rogue: 'Roguish Archetype',\n  Ranger: 'Ranger Conclave',\n  Sorcerer: 'Sorcerous Origin',\n  Warlock: 'Otherworldly Patron',\n  Wizard: 'Arcane Tradition',\n}\n\nexport {\n  abilityScoreM,\n  calculateSkill,\n  hitBonus,\n  initiative,\n  passiveInsight,\n  passiveInvestigation,\n  passivePerception,\n  proficiencyBonus,\n  savingThrow,\n  sneakAttack,\n  spellHit,\n  spellSaveDc,\n  subclassTitle,\n}\n"]},"metadata":{},"sourceType":"module"}